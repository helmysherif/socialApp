<%- include("partials/header.ejs")  %> 



    <div class="cover">

    </div>

    <div class="container">
        <div class="row">
            
            <div class="col-md-4 ">
                <div class="person card pb-5 px-5  text-center">
                    <img src="images/man.jpg" width="250" alt="">
                </div>
            </div>
            <div class="col-md-8 pt-4">
                <h2 class = "text-capitalize"><%= user %></h2>
                <h4 class="text-muted">Full Stack Web</h4>
                <% if (posts.length == 0) { %>
                    <h1 class = "text-center w-100">No Posts Found</h1>
                   <% } %>
                <% for( let i = 0; i < posts.length; i++ ) { %>
                    <div class="post card p-4 auto">
                        <div class="media">
                            <img src="images/man.jpg" width="60" class="mr-3" alt="...">
                            <div class="media-body">
                                <h5 class="mt-0"><%= user %></h5>
                                3 min.
                            </div>
                        </div>
                        <hr>
                        <h3 id = "title<%= posts[i]._id %>" class="mt-0 text-capitalize"><%= posts[i].title %></h3>
                        <p id = "desc<%= posts[i]._id %>" class="pt-4 text-justify"><%= posts[i].desc %></p>
                        <div>
                            <a data-toggle="modal" data-target="#editPost" href="/" class = "btn btn-info" onclick = "edit('<%= posts[i]._id %>')">Edit</a>
                            <a data-toggle="modal" data-target="#deleteNote" href="/" class = "btn btn-danger" onclick = "getID('<%= posts[i]._id %>')">Delete</a>
                        </div>
                    </div>
                <% } %>
            </div>
        </div>
    </div>
    <div class="modal fade" id="editPost" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <form action="/editPost" method = "POST">
            <div class="modal-content">
                <div class="modal-header text-center text-white">
                    <h5 class="modal-title " id="exampleModalLabel">Edit Post</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span class="text-white" aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <input hidden name = "_id" type="text" id = "idInput">
                    <input class="form-control my-3" placeholder="Enter Title" type="text" name = "title" id = "titleInput">
                    <textarea style = "resize: none;" class="form-control" placeholder="Enter Text" name="desc" id="descInput" cols="30" rows="10"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-success ">Edit Post</button>
                </div>
                </div>
            </form>
            </div>
        </div>
        <!-- Button trigger modal -->
  
  <!-- Modal -->
  <div class="modal fade" id="deleteNote" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <form action="/deletePost" method="POST">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Delete Post</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <h5 class = "text-danger m-0 p-0 text-center">Are You Sure?</h5>
                <input hidden type="text" id = "delete" name = "ID">
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-danger">Delete</button>
              </div>
            </div>
        </form>
    </div>
  </div>




    <%- include("partials/footer.ejs")  %> 
